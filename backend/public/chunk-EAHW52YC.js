import{a as z}from"./chunk-CVSUTZMM.js";import{b as lt}from"./chunk-4N7SC5UD.js";import{a as ct,c as st}from"./chunk-IJTMJMYD.js";import{b as mt}from"./chunk-MTGUTNBY.js";import{a as _}from"./chunk-32FL5DMP.js";import{a as W,b as X,c as et,d as it,f as ot,g as u,h as nt}from"./chunk-UKZT5LYH.js";import{a as J,b as K,g as Q,h as U,i as Y,k as Z}from"./chunk-4BQ3I3IV.js";import"./chunk-Q64FFBLU.js";import{a as rt,c as at,f as dt}from"./chunk-2FMEKLYD.js";import{O as tt,P as O}from"./chunk-ADHHZP6M.js";import{d as h}from"./chunk-ID222W6O.js";import"./chunk-I2VACIZO.js";import"./chunk-MDC4N2GR.js";import{b as R,d as T,f as L,g as G,j as V,k as $,m as q,n as M,p as H}from"./chunk-PXIP7OAW.js";import"./chunk-OMQHCXRE.js";import{o as N,q as C}from"./chunk-FHMWGGDF.js";import{$b as v,Cb as y,Cc as j,Eb as E,Fb as w,Gb as o,Hb as i,Ib as f,Kb as D,Ma as b,Nb as p,Pb as A,_b as a,ab as m,bb as d,fa as c,fc as g,ka as s,sb as P,ta as I,ua as B,xb as F}from"./chunk-LBNGVE6L.js";function ht(n,e){n&1&&(o(0,"mat-error"),a(1,"Organization Name is required"),i())}function _t(n,e){n&1&&a(0," Create Organization ")}function Mt(n,e){n&1&&(o(0,"div",9),f(1,"mat-spinner",10),o(2,"span"),a(3,"Connecting..."),i()())}var S=class n{constructor(e,t,r,l,k){this.fb=e;this.router=t;this.snackBar=r;this.authService=l;this.platformId=k;this.isBrowser=C(this.platformId),this.addOrganizationForm=this.fb.group({name:["",[T.required]],description:[""]})}dialogRef=c(ct);addOrganizationForm;hideSecret=!0;loading=!1;isBrowser;onCancel(){this.dialogRef.close()}onAdd(){this.addOrganizationForm.valid&&(console.log("this.form.value",this.addOrganizationForm),this.dialogRef.close(this.addOrganizationForm))}static \u0275fac=function(t){return new(t||n)(d(M),d(h),d(u),d(_),d(b))};static \u0275cmp=s({type:n,selectors:[["app-add-organization"]],standalone:!0,features:[g],decls:18,vars:4,consts:[[1,"container-fluid"],[1,"row","g-4"],[1,"col-12","col-md-12","col-lg-12"],[1,"storage-card"],[1,"d-flex","flex-column","gap-4",3,"ngSubmit","formGroup"],["appearance","outline"],["matInput","","formControlName","name","type","text","placeholder","Enter your Organization Name"],["matInput","","type","text","formControlName","description","placeholder","Enter your description","rows","4"],["mat-flat-button","",1,"submit-button","py-3","gradient-btn",3,"disabled"],[1,"d-flex","align-items-center","justify-content-center","gap-2"],["diameter","20"]],template:function(t,r){if(t&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-card",3)(4,"mat-card-content")(5,"form",4),p("ngSubmit",function(){return r.onAdd()}),o(6,"mat-form-field",5)(7,"mat-label"),a(8,"Organization Name"),i(),f(9,"input",6),P(10,ht,2,0,"mat-error"),i(),o(11,"mat-form-field",5)(12,"mat-label"),a(13,"Description"),i(),f(14,"textarea",7),i(),o(15,"button",8),P(16,_t,1,0)(17,Mt,4,0,"div",9),i()()()()()()()),t&2){let l;m(5),F("formGroup",r.addOrganizationForm),m(5),y((l=r.addOrganizationForm.get("name"))!=null&&l.hasError("required")&&((l=r.addOrganizationForm.get("name"))!=null&&l.touched)?10:-1),m(5),F("disabled",r.addOrganizationForm.invalid||r.loading),m(),y(r.loading?17:16)}},dependencies:[N,dt,rt,at,O,mt,H,V,R,L,G,$,q,U,Q,J,K,X,W,Z,Y,ot,it,et,nt,lt],styles:["[_nghost-%COMP%]{display:block;color:#fff}[_ngcontent-%COMP%]:is()   .mat-mdc-form-field[_ngcontent-%COMP%]{width:100%}[_ngcontent-%COMP%]:is()   .mat-mdc-dialog-surface[_ngcontent-%COMP%]{background:#ffffff1a!important;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}[_ngcontent-%COMP%]:is()   [_ngcontent-%COMP%]:is(.mdc-text-field--outlined:not(.mdc-text-field--disabled)   .mdc-notched-outline__leading[_ngcontent-%COMP%], .mdc-text-field--outlined[_ngcontent-%COMP%]:not(.mdc-text-field--disabled)   .mdc-notched-outline__notch[_ngcontent-%COMP%], .mdc-text-field--outlined[_ngcontent-%COMP%]:not(.mdc-text-field--disabled)   .mdc-notched-outline__trailing)[_ngcontent-%COMP%]{border-color:#ffffff4d}[_ngcontent-%COMP%]:is()   .mat-mdc-form-field-focus-overlay[_ngcontent-%COMP%]{background-color:#ffffff1a}.urls-container[_ngcontent-%COMP%]{background:#ffffff0d;border-radius:8px;padding:16px;border:1px solid rgba(255,255,255,.1)}mat-label[_ngcontent-%COMP%]{color:#fff}.submit-button[_ngcontent-%COMP%]{background:linear-gradient(to right,#00e1ff,#43ff8e);color:#fff;border:none}.submit-button[_ngcontent-%COMP%]:disabled{opacity:.6;background:#ffffff1a}.remove-btn[_ngcontent-%COMP%]{background:linear-gradient(to right,#ff4d6d,#ff758f);border:none}"]})};var Ot=(n,e)=>e.id;function zt(n,e){if(n&1){let t=D();o(0,"tr")(1,"th",5),a(2),i(),o(3,"td"),a(4),i(),o(5,"td"),a(6),i(),o(7,"td")(8,"mat-icon",6),p("click",function(){let l=I(t).$implicit,k=A();return B(k.deleteOrganization(l.id))}),a(9,"delete_sweep"),i()()()}if(n&2){let t=e.$implicit,r=e.$index;m(2),v(r+1),m(2),v(t.name),m(2),v(t.description)}}function St(n,e){n&1&&(o(0,"tr")(1,"td",7),a(2,"No organizations found"),i()())}var x=class n{organizations;snackBar=c(u);dashboardService=c(z);constructor(){this.dashboardService.loadOrganizations(),this.organizations=this.dashboardService.organizations,j(()=>{let e=this.organizations();console.log("organizations list: ",e)})}deleteOrganization(e){confirm("Are you sure you want to delete this organization?")&&this.dashboardService.deleteOrganization(e).subscribe({next:()=>{this.snackBar.open("Organization deleted successfully","Close",{duration:3e3})},error:t=>{console.error("Error deleting organization:",t),this.snackBar.open("Error deleting organization","Close",{duration:3e3})}})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=s({type:n,selectors:[["app-organization-list"]],standalone:!0,features:[g],decls:18,vars:1,consts:[[1,"container-fluid"],[1,"row","g-4"],[1,"col-12"],[1,"table","table-striped","table-dark",2,"width","100%"],["scope","col"],["scope","row"],[2,"cursor","pointer",3,"click"],["colspan","4",1,"text-center"]],template:function(t,r){t&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"table",3)(4,"thead")(5,"tr")(6,"th",4),a(7,"#"),i(),o(8,"th",4),a(9,"Organization Name"),i(),o(10,"th",4),a(11,"Description"),i(),o(12,"th",4),a(13,"Remove"),i()()(),o(14,"tbody"),E(15,zt,10,3,"tr",null,Ot,!1,St,3,0,"tr"),i()()()()()),t&2&&(m(15),w(r.organizations()))},dependencies:[O,tt],styles:["h2[_ngcontent-%COMP%]{font-size:1.8rem}"]})};var gt=class n{constructor(e,t,r,l,k,xt){this.fb=e;this.router=t;this.snackBar=r;this.authService=l;this.dashboardService=k;this.platformId=xt;this.isBrowser=C(this.platformId)}hideSecret=!0;loading=!1;isBrowser;dialog=c(st);openDialog(){var e=this.dialog.open(S,{width:"450px",panelClass:"custom-dialog-container",backdropClass:"custom-backdrop"});e.afterClosed().subscribe(t=>{if(t){let r=t.controls.name.value,l=t.controls.description.value;console.log(t),this.addOrganization(r,l)}})}addOrganization(e,t){console.log("name, descr",e,t),this.loading=!0,this.dashboardService.addOrganization(e,t).subscribe({next:()=>{this.snackBar.open("Organization added successfully","Close",{duration:3e3}),this.loading=!1},error:r=>{console.error("Error adding organization:",r),this.snackBar.open("Error adding organization","Close",{duration:3e3}),this.loading=!1}})}static \u0275fac=function(t){return new(t||n)(d(M),d(h),d(u),d(_),d(z),d(b))};static \u0275cmp=s({type:n,selectors:[["app-organization"]],standalone:!0,features:[g],decls:8,vars:0,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12",2,"display","flex","justify-content","space-between"],[1,"mb-4"],[1,"btn","btn-primary","gradient-btn",2,"cursor","pointer","margin","2.5px","height","fit-content",3,"click"]],template:function(t,r){t&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),a(4,"Organizations"),i(),o(5,"button",4),p("click",function(){return r.openDialog()}),a(6," +Add Organization"),i()()(),f(7,"app-organization-list"),i())},dependencies:[x],styles:["[_nghost-%COMP%]{display:block;padding:24px;color:#fff}.storage-card[_ngcontent-%COMP%]{background:#ffffff1a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1);color:#fff}.text-muted[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{color:#fff!important}mat-card-header[_ngcontent-%COMP%]{margin-bottom:16px}mat-icon[_ngcontent-%COMP%]{color:#fff}mat-label[_ngcontent-%COMP%]{color:#fff}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{font-size:2rem}"]})};export{gt as OrganizationComponent};

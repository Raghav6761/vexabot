import{a as V}from"./chunk-HD6QFJ6B.js";import{a as X,b as Z,c as oe,d as re,f as ae,g as le,h as se}from"./chunk-UKZT5LYH.js";import{a as G,b as W,c as H,d as J,g as K,h as Q,i as $,j as ee,k as te}from"./chunk-4BQ3I3IV.js";import"./chunk-Q64FFBLU.js";import{f as ce}from"./chunk-2FMEKLYD.js";import{O as ne,P as ie}from"./chunk-ADHHZP6M.js";import{d as T}from"./chunk-ID222W6O.js";import"./chunk-I2VACIZO.js";import"./chunk-EAL2B4IN.js";import{b as z,d as m,f as N,g as q,j,k as A,m as D,n as L,o as R,p as Y}from"./chunk-PXIP7OAW.js";import"./chunk-OMQHCXRE.js";import{o as I,q as B}from"./chunk-FHMWGGDF.js";import{$b as P,Cb as c,Gb as t,Hb as n,Ib as h,Kb as F,Ma as E,Nb as p,Pb as y,_b as i,ab as a,ac as O,bb as u,fc as U,ka as k,sb as d,ta as C,ua as M,xb as g}from"./chunk-LBNGVE6L.js";function de(r,o){r&1&&(t(0,"mat-error"),i(1,"Email is required"),n())}function pe(r,o){r&1&&(t(0,"mat-error"),i(1,"Please enter a valid email"),n())}function ue(r,o){r&1&&(t(0,"mat-error"),i(1,"Name is required"),n())}function he(r,o){r&1&&(t(0,"mat-error"),i(1,"Name must be at least 3 characters"),n())}function fe(r,o){r&1&&(t(0,"mat-error"),i(1,"Password is required"),n())}function ge(r,o){r&1&&(t(0,"mat-error"),i(1,"Password must be at least 6 characters"),n())}function be(r,o){r&1&&(t(0,"mat-error"),i(1,"Password is required"),n())}function _e(r,o){r&1&&(t(0,"mat-error"),i(1,"Password must be at least 6 characters"),n())}function xe(r,o){r&1&&i(0," Sign Up ")}function Se(r,o){r&1&&(t(0,"div",19),h(1,"mat-spinner",25),t(2,"span"),i(3,"Connecting..."),n()())}function we(r,o){if(r&1){let l=F();t(0,"div",24)(1,"button",26),p("click",function(){C(l);let s=y();return M(s.closeSpeechBubble())}),t(2,"mat-icon"),i(3,"close"),n()(),t(4,"div",27),i(5),t(6,"button",28),p("click",function(){C(l);let s=y();return M(s.playMessageManually())}),t(7,"mat-icon"),i(8,"volume_up"),n()()()()}if(r&2){let l=y();a(5),O(" ",l.welcomeMessage," ")}}var me=class r{constructor(o,l,e,s,f){this.fb=o;this.router=l;this.snackBar=e;this.authService=s;this.platformId=f;this.isBrowser=B(this.platformId),this.loginForm=this.fb.group({email:[{value:"wraghav6761@gmail.com",disabled:!0},[m.required,m.email]],username:["",[m.required,m.minLength(3)]],password:["",[m.required,m.minLength(6)]],cPassword:["",[m.required,m.minLength(6)]],is_new_client_signup:[!0,[m.required]],invited_client_id:["string",[m.required]]}),this.isBrowser&&document.addEventListener("click",()=>{console.log("click event occured",this.initialized),this.initialized||(this.initialized=!0,this.initializeSpeech())},{once:!0})}loginForm;hidePassword=!0;loading=!1;welcomeMessage="Hi, I am Vishnu bot and you can talk directly to me without having to chat";speechSynthesis=null;isBrowser;showSpeechBubble=!0;currentUtterance=null;initialized=!1;initializeSpeech(){if(console.log("init speech called"),"speechSynthesis"in window){console.log("in the if block");try{console.log("trying init speech"),this.speechSynthesis=window.speechSynthesis,this.currentUtterance=new SpeechSynthesisUtterance(this.welcomeMessage),this.currentUtterance.rate=.9,this.currentUtterance.pitch=1,this.currentUtterance.volume=1,this.speechSynthesis.getVoices().length>0?(console.log("getVoice block"),this.setupVoice(),this.playWelcomeMessage()):this.speechSynthesis.onvoiceschanged=()=>{console.log("voice changed block"),this.setupVoice(),this.playWelcomeMessage()},this.currentUtterance.onstart=()=>{console.log("Speech started")},this.currentUtterance.onend=()=>{console.log("Speech ended")},this.currentUtterance.onerror=o=>{console.error("Speech error:",o)}}catch(o){console.error("Speech synthesis initialization error:",o)}}else console.log("speech synthesis is not in window")}setupVoice(){if(!this.currentUtterance||!this.speechSynthesis)return;let o=this.speechSynthesis.getVoices(),l=o.find(e=>e.lang.startsWith("en")&&e.name.toLowerCase().includes("female"))||o.find(e=>e.lang.startsWith("en"))||o[0];l&&(this.currentUtterance.voice=l)}ngOnInit(){}playWelcomeMessage(){if(!(!this.isBrowser||!this.speechSynthesis||!this.currentUtterance))try{this.speechSynthesis.cancel(),this.speechSynthesis.paused&&this.speechSynthesis.resume(),this.speechSynthesis.speak(this.currentUtterance)}catch(o){console.error("Error playing welcome message:",o)}}playMessageManually(){this.currentUtterance&&(this.speechSynthesis?.cancel(),this.speechSynthesis?.speak(this.currentUtterance))}closeSpeechBubble(){this.showSpeechBubble=!1,this.speechSynthesis?.speaking&&this.speechSynthesis.cancel()}onSubmit(){if(this.loginForm.controls.password.value!==this.loginForm.controls.cPassword.value){window.alert("password and confirm password");return}this.loginForm.valid?(this.loading=!0,console.log(this.loginForm.getRawValue()),this.authService.signup(this.loginForm.getRawValue()).subscribe({next:o=>{console.log("response : ",o),localStorage.setItem("email",this.loginForm.value.email),this.router.navigate(["/"])},error:o=>{console.error("sign up failed: ",o),window.alert("Please check your credentials"),this.loading=!1}})):this.loginForm.markAllAsTouched()}ngOnDestroy(){this.isBrowser&&this.speechSynthesis?.speaking&&this.speechSynthesis.cancel()}static \u0275fac=function(l){return new(l||r)(u(L),u(T),u(le),u(V),u(E))};static \u0275cmp=k({type:r,selectors:[["app-sign-up"]],standalone:!0,features:[U],decls:61,vars:16,consts:[[1,"min-vh-100","login-container"],[1,"container"],[1,"row","justify-content-center","align-items-center","min-vh-100"],[1,"col-12","col-sm-10","col-md-8","col-lg-6","col-xl-5"],[1,"glass-card","p-4","p-md-5"],[1,"text-center","mb-4"],[1,"avatar-container","mx-auto","mb-4"],[1,"avatar-icon"],[1,"display-6","fw-bold","text-white","mb-2"],[1,"text-light","mb-4"],[1,"d-flex","flex-column","gap-4",3,"ngSubmit","formGroup"],["appearance","outline"],["matInput","","formControlName","email","type","email","placeholder","Enter your email"],["matPrefix","",1,"me-2"],["matInput","","type","text","formControlName","username","placeholder","Enter Your Complete Name"],["matInput","","formControlName","password","placeholder","Enter your password",3,"type"],["mat-icon-button","","matSuffix","","type","button",3,"click"],["matInput","","formControlName","cPassword","placeholder","Enter your cPassword",3,"type"],["mat-flat-button","",1,"submit-button","py-3",3,"disabled"],[1,"d-flex","align-items-center","justify-content-center","gap-2"],[1,"bot-placeholder"],[1,"bot-content"],[1,"bot-image","d-flex","align-items-center","justify-content-center"],[1,"bot-icon",3,"click"],[1,"speech-bubble"],["diameter","20"],[1,"close-button",3,"click"],[1,"speech-content"],[1,"play-button",3,"click"]],template:function(l,e){if(l&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"mat-icon",7),i(8,"smart_toy"),n()(),t(9,"h2",8),i(10,"Welcome"),n(),t(11,"p",9),i(12,"Create your account to unlock your AI-powered assistant."),n()(),t(13,"form",10),p("ngSubmit",function(){return e.onSubmit()}),t(14,"mat-form-field",11)(15,"mat-label"),i(16,"Email"),n(),h(17,"input",12),t(18,"mat-icon",13),i(19,"email"),n(),d(20,de,2,0,"mat-error")(21,pe,2,0,"mat-error"),n(),t(22,"mat-form-field",11)(23,"mat-label"),i(24,"Name"),n(),h(25,"input",14),t(26,"mat-icon",13),i(27,"person"),n(),d(28,ue,2,0,"mat-error")(29,he,2,0,"mat-error"),n(),t(30,"mat-form-field",11)(31,"mat-label"),i(32,"Password"),n(),h(33,"input",15),t(34,"mat-icon",13),i(35,"lock"),n(),t(36,"button",16),p("click",function(){return e.hidePassword=!e.hidePassword}),t(37,"mat-icon"),i(38),n()(),d(39,fe,2,0,"mat-error")(40,ge,2,0,"mat-error"),n(),t(41,"mat-form-field",11)(42,"mat-label"),i(43,"Confirm Password"),n(),h(44,"input",17),t(45,"mat-icon",13),i(46,"lock"),n(),t(47,"button",16),p("click",function(){return e.hidePassword=!e.hidePassword}),t(48,"mat-icon"),i(49),n()(),d(50,be,2,0,"mat-error")(51,_e,2,0,"mat-error"),n(),t(52,"button",18),d(53,xe,1,0)(54,Se,4,0,"div",19),n()()()()()(),t(55,"div",20)(56,"div",21)(57,"div",22)(58,"mat-icon",23),p("click",function(){return e.playMessageManually()}),i(59,"smart_toy"),n()(),d(60,we,9,1,"div",24),n()()()),l&2){let s,f,b,_,x,S,w,v;a(13),g("formGroup",e.loginForm),a(7),c((s=e.loginForm.get("email"))!=null&&s.hasError("required")&&((s=e.loginForm.get("email"))!=null&&s.touched)?20:-1),a(),c((f=e.loginForm.get("email"))!=null&&f.hasError("email")&&((f=e.loginForm.get("email"))!=null&&f.touched)?21:-1),a(7),c((b=e.loginForm.get("name"))!=null&&b.hasError("required")&&((b=e.loginForm.get("username"))!=null&&b.touched)?28:-1),a(),c((_=e.loginForm.get("username"))!=null&&_.hasError("minlength")&&((_=e.loginForm.get("username"))!=null&&_.touched)?29:-1),a(4),g("type",e.hidePassword?"password":"text"),a(5),P(e.hidePassword?"visibility_off":"visibility"),a(),c((x=e.loginForm.get("password"))!=null&&x.hasError("required")&&((x=e.loginForm.get("password"))!=null&&x.touched)?39:-1),a(),c((S=e.loginForm.get("password"))!=null&&S.hasError("minlength")&&((S=e.loginForm.get("password"))!=null&&S.touched)?40:-1),a(4),g("type",e.hidePassword?"password":"text"),a(5),P(e.hidePassword?"visibility_off":"visibility"),a(),c((w=e.loginForm.get("cPassword"))!=null&&w.hasError("required")&&((w=e.loginForm.get("cPassword"))!=null&&w.touched)?50:-1),a(),c((v=e.loginForm.get("cPassword"))!=null&&v.hasError("minlength")&&((v=e.loginForm.get("cPassword"))!=null&&v.touched)?51:-1),a(),g("disabled",e.loginForm.invalid||e.loading),a(),c(e.loading?54:53),a(7),c(e.showSpeechBubble?60:-1)}},dependencies:[R,j,z,N,q,Y,A,D,I,Q,K,G,W,H,J,Z,X,te,$,ee,ie,ne,ae,re,oe,ce,se],styles:['mat-label[_ngcontent-%COMP%]{color:#fff}mat-icon[_ngcontent-%COMP%]{fill:#fff;filter:brightness(0) invert(1)}.login-container[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1e1e2f,#2a2a45);position:relative;overflow:hidden}.login-container[_ngcontent-%COMP%]:before{content:"";position:absolute;width:200%;height:200%;background:linear-gradient(45deg,#4285f41a,#db44371a,#f4b4001a,#0f9d581a,#4285f41a);animation:_ngcontent-%COMP%_rotate 20s linear infinite}.glass-card[_ngcontent-%COMP%]{background:#ffffff1a;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);border-radius:16px;border:1px solid rgba(255,255,255,.2);box-shadow:0 8px 32px #0003;position:relative}.avatar-container[_ngcontent-%COMP%]{width:80px;height:80px;background:linear-gradient(135deg,#4285f4,#34a853);border-radius:50%;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 15px #4285f44d}.avatar-icon[_ngcontent-%COMP%]{font-size:40px;width:40px;height:40px;color:#fff}.bot-placeholder[_ngcontent-%COMP%]{position:fixed;bottom:2rem;right:2rem;z-index:1000;display:flex;align-items:flex-end}.bot-content[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;align-items:flex-end}.bot-image[_ngcontent-%COMP%]{width:120px;height:120px;background:linear-gradient(135deg,#4285f4,#34a853);border-radius:50%;border:3px solid rgba(255,255,255,.2);box-shadow:0 4px 20px #0000004d;cursor:pointer;transition:transform .3s ease;position:relative;z-index:2}.bot-image[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.bot-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;color:#fff}.speech-bubble[_ngcontent-%COMP%]{position:absolute;bottom:140px;right:0;background:#fff;padding:1rem;border-radius:15px;min-width:200px;max-width:300px;width:max-content;color:#333;box-shadow:0 4px 15px #0000001a;font-size:.9rem;opacity:0;animation:_ngcontent-%COMP%_fadeIn 1s ease forwards 1s;pointer-events:all;z-index:1}.speech-bubble[_ngcontent-%COMP%]:after{content:"";position:absolute;right:30px;bottom:-10px;border-width:10px 10px 0;border-style:solid;border-color:white transparent transparent}.speech-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.play-button[_ngcontent-%COMP%]{background:none;border:none;color:#4285f4;cursor:pointer;padding:4px;display:flex;align-items:center;justify-content:center;transition:all .2s ease;border-radius:50%}.play-button[_ngcontent-%COMP%]:hover{background:#4285f41a;transform:scale(1.1)}.play-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.close-button[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-8px;width:24px;height:24px;border-radius:50%;background:#dc3545;border:none;display:flex;align-items:center;justify-content:center;cursor:pointer;padding:0;transition:all .2s ease;box-shadow:0 2px 5px #0003}.close-button[_ngcontent-%COMP%]:hover{background:#c82333;transform:scale(1.1)}.close-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;color:#fff}  .mat-mdc-form-field{width:100%}  .mdc-text-field--outlined{background:#ffffff0d;border-radius:8px}  .mat-mdc-form-field-appearance-outline .mdc-notched-outline__leading,   .mat-mdc-form-field-appearance-outline .mdc-notched-outline__notch,   .mat-mdc-form-field-appearance-outline .mdc-notched-outline__trailing{border-color:#ffffff4d!important}  .mdc-text-field:not(.mdc-text-field--disabled) .mdc-floating-label,   .mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__input{color:#ffffffde!important}.submit-button[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4285f4,#34a853)!important;color:#fff!important;border-radius:8px!important;font-weight:500!important;transition:opacity .3s ease!important}.submit-button[_ngcontent-%COMP%]:hover:not(:disabled){opacity:.9}.submit-button[_ngcontent-%COMP%]:disabled{background:#ffffff1a!important;color:#fff6!important}@keyframes _ngcontent-%COMP%_floatAnimation{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_rotate{0%{transform:translateY(-50%) rotate(0)}to{transform:translateY(-50%) rotate(360deg)}}.hover-effect[_ngcontent-%COMP%]{transition:opacity .3s ease}.hover-effect[_ngcontent-%COMP%]:hover{opacity:.8}@media (max-width: 768px){.bot-placeholder[_ngcontent-%COMP%]{bottom:1rem;right:1rem}.bot-image[_ngcontent-%COMP%]{width:80px;height:80px}.bot-icon[_ngcontent-%COMP%]{font-size:32px;width:32px;height:32px}.speech-bubble[_ngcontent-%COMP%]{max-width:200px;font-size:.8rem;bottom:90px;padding:.75rem}}']})};export{me as SignUpComponent};

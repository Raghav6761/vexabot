import{a as G}from"./chunk-32FL5DMP.js";import{b as E,c as B}from"./chunk-J2D5EU4F.js";import{c as u,d as p,g as U,h as j}from"./chunk-ID222W6O.js";import{a as z,b as L,e as T}from"./chunk-I2VACIZO.js";import"./chunk-MDC4N2GR.js";import{c as x,d as M}from"./chunk-OMQHCXRE.js";import{d as N}from"./chunk-FHMWGGDF.js";import{$ as c,Da as R,Ib as m,Na as w,Y as b,bb as F,ca as I,cb as _,eb as P,fa as i,fc as h,gb as D,jb as O,ka as d,na as S,sc as k}from"./chunk-LBNGVE6L.js";var g=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=d({type:e,selectors:[["app-admin"]],standalone:!0,features:[h],decls:1,vars:0,template:function(t,n){t&1&&m(0,"router-outlet")},dependencies:[u],styles:["[_ngcontent-%COMP%]:root{--primary-color: #3f51b5;--accent-color: #ff4081;--background-dark: #1a1a1a;--text-color: #ffffff;--sidebar-width: 250px;--sidebar-collapsed-width: 60px;--header-height: 64px;--glassmorphic-bg: rgba(255, 255, 255, .1);--glassmorphic-border: rgba(255, 255, 255, .1)}body[_ngcontent-%COMP%]{margin:0;padding:0;background:linear-gradient(45deg,var(--background-dark),#2c2c2c);color:var(--text-color);font-family:Roboto,sans-serif}.glassmorphic[_ngcontent-%COMP%]{background:var(--glassmorphic-bg);backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);border:1px solid var(--glassmorphic-border)}@media (max-width: 768px){[_ngcontent-%COMP%]:root{--sidebar-width: 80%;--header-height: 56px}}"]})};var l=class e{router=i(p);authService=i(G);isLoggedIn(){return this.authService.authStatus()}hasSuperAccess(){return this.isLoggedIn()?!!localStorage.getItem("is_super_admin"):!1}hasOrgAccess(){if(!this.isLoggedIn())return!1;let o=localStorage.getItem("current_organization_id");if(!o)return!1;let t=this.authService.currentUserRoles();return console.log("current organization id",o),console.log("organizations",t),t.some(r=>r.organization_id===o&&(r.role==="ORGANIZATION_ADMIN"||r.role==="PROJECT_ADMIN"))}hasPrjAccess(){if(!this.isLoggedIn())return!1;let o=localStorage.getItem("current_organization_id");if(!o)return!1;let t=this.authService.currentUserRoles();return console.log("current organization id",o),console.log("organizations",t),t.some(r=>r.organization_id===o&&r.role==="ORGANIZATION_ADMIN")}static \u0275fac=function(t){return new(t||e)};static \u0275prov=c({token:e,factory:e.\u0275fac,providedIn:"root"})},v=(e,o)=>{let t=i(l),n=i(p);return t.isLoggedIn()?!0:(n.navigate(["/login"],{queryParams:{returnUrl:o.url}}),!1)},V=(e,o)=>{let t=i(l),n=i(p);return t.isLoggedIn()?t.hasOrgAccess()?!0:(window.alert("you don't access to this feature"),n.navigate(["/dashboard/talk"]),!1):(window.alert("please login before proceeding"),n.navigate(["/login"],{queryParams:{returnUrl:o.url}}),!1)},f=(e,o)=>{let t=i(l),n=i(p);return t.isLoggedIn()?t.hasSuperAccess()?!0:(window.alert("only super admin can access !!"),n.navigate(["/dashboard/talk"]),!1):(window.alert("please login before proceeding"),n.navigate(["/login"],{queryParams:{returnUrl:o.url}}),!1)};var H=[{path:"",loadComponent:()=>import("./chunk-AJPTWXOJ.js").then(e=>e.LoginComponent),title:"Login"},{path:"login",loadComponent:()=>import("./chunk-AJPTWXOJ.js").then(e=>e.LoginComponent),title:"Login"},{path:"otp-verify",loadComponent:()=>import("./chunk-YDRWK4ZF.js").then(e=>e.OtpVerifyComponent),title:"Verify OTP"},{path:"sign-up",loadComponent:()=>import("./chunk-AB7F75WQ.js").then(e=>e.SignUpComponent),title:"Sign Up"},{path:"forgot-password",loadComponent:()=>import("./chunk-NLLMIOPE.js").then(e=>e.ForgotPasswordComponent),title:"Forgot Password"},{path:"talk",loadComponent:()=>import("./chunk-W5MQDKQE.js").then(e=>e.VoiceComponent),title:"Voice Chat"},{path:"chat",loadComponent:()=>import("./chunk-AGB625QI.js").then(e=>e.ChatComponent),title:"Chat"},{path:"dashboard",loadComponent:()=>import("./chunk-WNWGOAPM.js").then(e=>e.DashboardComponent),title:"Dashboard",children:[{path:"",redirectTo:"talk",pathMatch:"full"},{path:"file-storage",loadComponent:()=>import("./chunk-MQFFWZ2S.js").then(e=>e.FileStorageComponent),title:"File Storage",canActivate:[V]},{path:"cloud-storage",loadComponent:()=>import("./chunk-WCHUK3BE.js").then(e=>e.CloudStorageComponent),title:"Cloud Storage"},{path:"website-kb",loadComponent:()=>import("./chunk-QU56WVMC.js").then(e=>e.WebsiteKnowledgeBaseComponent),title:"Website Knowledge Base"},{path:"talk",loadComponent:()=>import("./chunk-AAAITGPN.js").then(e=>e.CharacterComponent),title:"Chatbot",canActivate:[v]},{path:"chat",loadComponent:()=>import("./chunk-AGB625QI.js").then(e=>e.ChatComponent),title:"Chat",canActivate:[v]},{path:"iam",loadComponent:()=>import("./chunk-25G53AKD.js").then(e=>e.IamComponent),children:[{path:"",redirectTo:"organization",pathMatch:"full"},{path:"organization",loadComponent:()=>import("./chunk-EAHW52YC.js").then(e=>e.OrganizationComponent),title:"Organizations"},{path:"projects",loadComponent:()=>import("./chunk-XKC5BQJW.js").then(e=>e.ProjectsComponent),title:"Projects",canActivate:[f]},{path:"users",loadComponent:()=>import("./chunk-3HXSAHZD.js").then(e=>e.UsersComponent),title:"Users",canActivate:[f]},{path:"groups",loadComponent:()=>import("./chunk-MBIU3JQY.js").then(e=>e.GroupsComponent),title:"Groups",canActivate:[f]},{path:"roles",loadComponent:()=>import("./chunk-JUVV2FD4.js").then(e=>e.RolesComponent),title:"Roles"},{path:"ldap",loadComponent:()=>import("./chunk-AP7B2OCB.js").then(e=>e.LdapComponent),title:"LDAP"},{path:"active-directory",loadComponent:()=>import("./chunk-ZC45LG7I.js").then(e=>e.ActiveDirectoryComponent),title:"Active Directory"}]}]},{path:"admin",component:g,children:[{path:"",loadComponent:()=>import("./chunk-AJPTWXOJ.js").then(e=>e.LoginComponent),title:"Login"},{path:"login",loadComponent:()=>import("./chunk-AJPTWXOJ.js").then(e=>e.LoginComponent),title:"Login"},{path:"sign-up",loadComponent:()=>import("./chunk-AB7F75WQ.js").then(e=>e.SignUpComponent),title:"Sign Up"},{path:"forgot-password",loadComponent:()=>import("./chunk-NLLMIOPE.js").then(e=>e.ForgotPasswordComponent),title:"Forgot Password"},{path:"talk",loadComponent:()=>import("./chunk-AAAITGPN.js").then(e=>e.CharacterComponent),title:"Render Char here"},{path:"dashboard",loadComponent:()=>import("./chunk-WNWGOAPM.js").then(e=>e.DashboardComponent),title:"Dashboard",children:[{path:"",redirectTo:"file-storage",pathMatch:"full"},{path:"file-storage",loadComponent:()=>import("./chunk-MQFFWZ2S.js").then(e=>e.FileStorageComponent),title:"File Storage"},{path:"cloud-storage",loadComponent:()=>import("./chunk-WCHUK3BE.js").then(e=>e.CloudStorageComponent),title:"Cloud Storage"},{path:"website-kb",loadComponent:()=>import("./chunk-QU56WVMC.js").then(e=>e.WebsiteKnowledgeBaseComponent),title:"Website Knowledge Base"},{path:"iam",loadComponent:()=>import("./chunk-25G53AKD.js").then(e=>e.IamComponent),children:[{path:"",redirectTo:"organization",pathMatch:"full"},{path:"organization",loadComponent:()=>import("./chunk-EAHW52YC.js").then(e=>e.OrganizationComponent),title:"Organizations"},{path:"projects",loadComponent:()=>import("./chunk-XKC5BQJW.js").then(e=>e.ProjectsComponent),title:"Projects"},{path:"users",loadComponent:()=>import("./chunk-3HXSAHZD.js").then(e=>e.UsersComponent),title:"Users"},{path:"groups",loadComponent:()=>import("./chunk-MBIU3JQY.js").then(e=>e.GroupsComponent),title:"Groups"},{path:"roles",loadComponent:()=>import("./chunk-JUVV2FD4.js").then(e=>e.RolesComponent),title:"Roles"},{path:"ldap",loadComponent:()=>import("./chunk-AP7B2OCB.js").then(e=>e.LdapComponent),title:"LDAP"},{path:"active-directory",loadComponent:()=>import("./chunk-ZC45LG7I.js").then(e=>e.ActiveDirectoryComponent),title:"Active Directory"}]}]}]}];var J="@",X=(()=>{class e{constructor(t,n,r,a,s){this.doc=t,this.delegate=n,this.zone=r,this.animationType=a,this.moduleImpl=s,this._rendererFactoryPromise=null,this.scheduler=i(P,{optional:!0}),this.loadingSchedulerFn=i($,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){let t=()=>this.moduleImpl??import("./chunk-TMOJ4VC7.js").then(r=>r),n;return this.loadingSchedulerFn?n=this.loadingSchedulerFn(t):n=t(),n.catch(r=>{throw new b(5300,!1)}).then(({\u0275createEngine:r,\u0275AnimationRendererFactory:a})=>{this._engine=r(this.animationType,this.doc);let s=new a(this.delegate,this._engine,this.zone);return this.delegate=s,s})}createRenderer(t,n){let r=this.delegate.createRenderer(t,n);if(r.\u0275type===0)return r;typeof r.throwOnSyntheticProps=="boolean"&&(r.throwOnSyntheticProps=!1);let a=new A(r);return n?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(s=>{let q=s.createRenderer(t,n);a.use(q),this.scheduler?.notify(10)}).catch(s=>{a.use(r)}),a}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static{this.\u0275fac=function(n){_()}}static{this.\u0275prov=c({token:e,factory:e.\u0275fac})}}return e})(),A=class{constructor(o){this.delegate=o,this.replay=[],this.\u0275type=1}use(o){if(this.delegate=o,this.replay!==null){for(let t of this.replay)t(o);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(o,t){return this.delegate.createElement(o,t)}createComment(o){return this.delegate.createComment(o)}createText(o){return this.delegate.createText(o)}get destroyNode(){return this.delegate.destroyNode}appendChild(o,t){this.delegate.appendChild(o,t)}insertBefore(o,t,n,r){this.delegate.insertBefore(o,t,n,r)}removeChild(o,t,n){this.delegate.removeChild(o,t,n)}selectRootElement(o,t){return this.delegate.selectRootElement(o,t)}parentNode(o){return this.delegate.parentNode(o)}nextSibling(o){return this.delegate.nextSibling(o)}setAttribute(o,t,n,r){this.delegate.setAttribute(o,t,n,r)}removeAttribute(o,t,n){this.delegate.removeAttribute(o,t,n)}addClass(o,t){this.delegate.addClass(o,t)}removeClass(o,t){this.delegate.removeClass(o,t)}setStyle(o,t,n,r){this.delegate.setStyle(o,t,n,r)}removeStyle(o,t,n){this.delegate.removeStyle(o,t,n)}setProperty(o,t,n){this.shouldReplay(t)&&this.replay.push(r=>r.setProperty(o,t,n)),this.delegate.setProperty(o,t,n)}setValue(o,t){this.delegate.setValue(o,t)}listen(o,t,n){return this.shouldReplay(t)&&this.replay.push(r=>r.listen(o,t,n)),this.delegate.listen(o,t,n)}shouldReplay(o){return this.replay!==null&&o.startsWith(J)}},$=new I("");function W(e="animations"){return O("NgAsyncAnimations"),S([{provide:D,useFactory:(o,t,n)=>new X(o,t,n,e),deps:[N,z,R]},{provide:w,useValue:e==="noop"?"NoopAnimations":"BrowserAnimations"}])}var K=(e,o)=>{let t=localStorage.getItem("access_token");if(console.log("auth token interceptor",t),t){console.log("finding token");let n=e.clone({headers:e.headers.set("Authorization",`Bearer ${t}`)});return console.log("Authorization header set:",n.headers.get("Authorization")),o(n)}return o(e)};var Z={providers:[k({eventCoalescing:!0}),U(H,j()),T(),W(),x(M([K]))]};var C=class e{constructor(o){this.interactionService=o}sceneGraph=B;title="front";userinteraction(){this.interactionService.triggerInteraction()}static \u0275fac=function(t){return new(t||e)(F(E))};static \u0275cmp=d({type:e,selectors:[["app-root"]],standalone:!0,features:[h],decls:1,vars:0,template:function(t,n){t&1&&m(0,"router-outlet")},dependencies:[u]})};L(C,Z).catch(e=>console.error(e));

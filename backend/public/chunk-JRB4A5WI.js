import{a as b}from"./chunk-Y6LGBXLQ.js";import{b as me}from"./chunk-4N7SC5UD.js";import{a as fe,b as ge,c as ve}from"./chunk-IJTMJMYD.js";import{b as ue}from"./chunk-MTGUTNBY.js";import{a as k}from"./chunk-HD6QFJ6B.js";import{a as Y,b as Z,c as re,d as ie,f as ne,g as v,h as ae}from"./chunk-UKZT5LYH.js";import{a as K,b as Q,g as W,h as X,i as ee,k as te}from"./chunk-4BQ3I3IV.js";import"./chunk-Q64FFBLU.js";import{a as de,b as le,c as se,d as ce,f as pe}from"./chunk-2FMEKLYD.js";import{O as oe,P as F}from"./chunk-ADHHZP6M.js";import{d as x}from"./chunk-ID222W6O.js";import"./chunk-I2VACIZO.js";import"./chunk-EAL2B4IN.js";import{b as V,d as B,f as q,g as $,j as z,k as H,m as U,n as E,p as J}from"./chunk-PXIP7OAW.js";import"./chunk-OMQHCXRE.js";import{o as L,q as G}from"./chunk-FHMWGGDF.js";import{$b as S,Cb as M,Cc as R,Eb as A,Fb as N,Gb as r,Hb as o,Ib as u,Kb as T,Ma as C,Nb as f,Pb as _,_b as a,ab as s,ac as O,bb as l,fa as p,fc as g,ka as m,sb as h,ta as j,ua as w,xb as P}from"./chunk-LBNGVE6L.js";function ke(i,t){i&1&&(r(0,"mat-error"),a(1,"Group Name is required"),o())}function Ee(i,t){i&1&&(r(0,"mat-error"),a(1,"Group Description is required"),o())}function Fe(i,t){if(i&1&&a(0),i&2){let e=_();O(" ",e.isEditMode?"Update":"Create"," Group ")}}function Ie(i,t){i&1&&(r(0,"div",9),u(1,"mat-spinner",10),r(2,"span"),a(3,"Connecting..."),o()())}var I=class i{constructor(t,e,n,d,c,D,Be){this.fb=t;this.router=e;this.snackBar=n;this.authService=d;this.dashboardService=c;this.platformId=D;this.data=Be;this.isBrowser=G(this.platformId),this.isEditMode=!!this.data?.group,this.addGroupForm=this.fb.group({name:["",[B.required]],description:["",[B.required]]})}dialogRef=p(fe);addGroupForm;hideSecret=!0;loading=!1;projects=[];users=[];isEditMode=!1;isBrowser;ngOnInit(){this.isEditMode&&this.addGroupForm.patchValue({name:this.data.group.name,description:this.data.group.description})}onCancel(){this.dialogRef.close()}onAdd(){if(this.addGroupForm.valid){this.loading=!0;let t=this.addGroupForm.value,e=this.addGroupForm.controls.name.value,n=this.addGroupForm.controls.description.value;this.isEditMode?this.dashboardService.updateGroup(this.data.group.id,t).subscribe({next:d=>{this.snackBar.open("Group updated successfully","Close",{duration:3e3}),this.dialogRef.close(d)},error:d=>{console.error("Error updating group:",d),this.snackBar.open("Error updating group","Close",{duration:3e3}),this.loading=!1}}):this.dashboardService.createGroup(e,n).subscribe({next:d=>{console.log("new group : ",d),this.snackBar.open("Group created successfully","Close",{duration:3e3}),this.dialogRef.close(d)},error:d=>{console.error("Error creating group:",d),this.snackBar.open("Error creating group","Close",{duration:3e3}),this.loading=!1}})}else this.addGroupForm.markAllAsTouched()}static \u0275fac=function(e){return new(e||i)(l(E),l(x),l(v),l(k),l(b),l(C),l(ge))};static \u0275cmp=m({type:i,selectors:[["app-create-group"]],standalone:!0,features:[g],decls:22,vars:6,consts:[[1,"container-fluid"],[1,"row","g-4"],[1,"col-12","col-md-12","col-lg-12"],[1,"storage-card"],[1,"d-flex","flex-column","gap-4",3,"ngSubmit","formGroup"],["appearance","outline"],["matInput","","formControlName","name","type","text","placeholder","Enter your Group Name"],["matInput","","formControlName","description","type","text","placeholder","Enter your Group Name"],["mat-flat-button","",1,"submit-button","py-3","gradient-btn",3,"disabled"],[1,"d-flex","align-items-center","justify-content-center","gap-2"],["diameter","20"]],template:function(e,n){if(e&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-card",3)(4,"mat-card-header")(5,"mat-card-title"),a(6),o()(),r(7,"mat-card-content")(8,"form",4),f("ngSubmit",function(){return n.onAdd()}),r(9,"mat-form-field",5)(10,"mat-label"),a(11,"Group Name"),o(),u(12,"input",6),h(13,ke,2,0,"mat-error"),o(),r(14,"mat-form-field",5)(15,"mat-label"),a(16,"Group Description"),o(),u(17,"input",7),h(18,Ee,2,0,"mat-error"),o(),r(19,"button",8),h(20,Fe,1,1)(21,Ie,4,0,"div",9),o()()()()()()()),e&2){let d,c;s(6),O("",n.isEditMode?"Edit":"Create"," Group"),s(2),P("formGroup",n.addGroupForm),s(5),M((d=n.addGroupForm.get("name"))!=null&&d.hasError("required")&&((d=n.addGroupForm.get("name"))!=null&&d.touched)?13:-1),s(5),M((c=n.addGroupForm.get("name"))!=null&&c.hasError("required")&&((c=n.addGroupForm.get("name"))!=null&&c.touched)?18:-1),s(),P("disabled",n.addGroupForm.invalid||n.loading),s(),M(n.loading?21:20)}},dependencies:[L,pe,de,se,ce,le,F,ue,J,z,V,q,$,H,U,X,W,K,Q,Z,Y,te,ee,ne,ie,re,ae,me],styles:["[_nghost-%COMP%]{display:block;color:#fff}[_ngcontent-%COMP%]:is()   .mat-mdc-form-field[_ngcontent-%COMP%]{width:100%}[_ngcontent-%COMP%]:is()   .mat-mdc-dialog-surface[_ngcontent-%COMP%]{background:#ffffff1a!important;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}[_ngcontent-%COMP%]:is()   [_ngcontent-%COMP%]:is(.mdc-text-field--outlined:not(.mdc-text-field--disabled)   .mdc-notched-outline__leading[_ngcontent-%COMP%], .mdc-text-field--outlined[_ngcontent-%COMP%]:not(.mdc-text-field--disabled)   .mdc-notched-outline__notch[_ngcontent-%COMP%], .mdc-text-field--outlined[_ngcontent-%COMP%]:not(.mdc-text-field--disabled)   .mdc-notched-outline__trailing)[_ngcontent-%COMP%]{border-color:#ffffff4d}[_ngcontent-%COMP%]:is()   .mat-mdc-form-field-focus-overlay[_ngcontent-%COMP%]{background-color:#ffffff1a}.urls-container[_ngcontent-%COMP%]{background:#ffffff0d;border-radius:8px;padding:16px;border:1px solid rgba(255,255,255,.1)}mat-label[_ngcontent-%COMP%]{color:#fff}.submit-button[_ngcontent-%COMP%]{background:linear-gradient(to right,#00e1ff,#43ff8e);color:#fff;border:none}.submit-button[_ngcontent-%COMP%]:disabled{opacity:.6;background:#ffffff1a}.remove-btn[_ngcontent-%COMP%]{background:linear-gradient(to right,#ff4d6d,#ff758f);border:none}"]})};var ye=(i,t)=>t.id;function Pe(i,t){if(i&1){let e=T();r(0,"tr")(1,"th",5),a(2),o(),r(3,"td"),a(4),o(),r(5,"td"),a(6),o(),r(7,"td")(8,"mat-icon",6),f("click",function(){let d=j(e).$implicit,c=_();return w(c.deleteGroup(d.id))}),a(9,"delete_sweep"),o()()()}if(i&2){let e=t.$implicit,n=t.$index;s(2),S(n+1),s(2),S(e.name),s(2),S(e.description)}}function Oe(i,t){i&1&&(r(0,"tr")(1,"td",7),a(2,"No group found"),o()())}var y=class i{groups;snackBar=p(v);dashboardService=p(b);constructor(){this.dashboardService.loadGroups(),this.groups=this.dashboardService.groups,R(()=>{let t=this.groups();console.log("groups list: ",t)})}deleteGroup(t){confirm("Are you sure you want to delete this group?")&&this.dashboardService.deleteGroup(t).subscribe({next:()=>{this.snackBar.open("Group deleted successfully","Close",{duration:3e3})},error:e=>{console.error("Error deleting group:",e),this.snackBar.open("Error deleting group","Close",{duration:3e3})}})}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=m({type:i,selectors:[["app-list-group"]],standalone:!0,features:[g],decls:18,vars:1,consts:[[1,"container-fluid"],[1,"row","g-4"],[1,"col-12"],[1,"table","table-striped","table-dark",2,"width","100%"],["scope","col"],["scope","row"],[2,"cursor","pointer",3,"click"],["colspan","4",1,"text-center"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"table",3)(4,"thead")(5,"tr")(6,"th",4),a(7,"#"),o(),r(8,"th",4),a(9,"Group Name"),o(),r(10,"th",4),a(11,"Group Description"),o(),r(12,"th",4),a(13,"Remove"),o()()(),r(14,"tbody"),A(15,Pe,10,3,"tr",null,ye,!1,Oe,3,0,"tr"),o()()()()()),e&2&&(s(15),N(n.groups()))},dependencies:[F,oe]})};var he=class i{constructor(t,e,n,d,c,D){this.fb=t;this.router=e;this.snackBar=n;this.authService=d;this.dashboardService=c;this.platformId=D;this.isBrowser=G(this.platformId)}hideSecret=!0;loading=!1;isBrowser;dialog=p(ve);openDialog(){var t=this.dialog.open(I,{width:"450px",panelClass:"custom-dialog-container",backdropClass:"custom-backdrop"});t.afterClosed().subscribe(e=>{if(e){let n=e.controls.name.value,d=e.controls.projects.value,c=e.controls.users.value,D=e.controls.role.value;console.log(e)}})}static \u0275fac=function(e){return new(e||i)(l(E),l(x),l(v),l(k),l(b),l(C))};static \u0275cmp=m({type:i,selectors:[["app-groups"]],standalone:!0,features:[g],decls:8,vars:0,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12",2,"display","flex","justify-content","space-between"],[1,"mb-4"],[1,"btn","btn-primary","gradient-btn",2,"cursor","pointer","margin","2.5px","height","fit-content",3,"click"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),a(4,"Groups"),o(),r(5,"button",4),f("click",function(){return n.openDialog()}),a(6," +Add Group"),o()()(),u(7,"app-list-group"),o())},dependencies:[y],styles:["[_nghost-%COMP%]{display:block;padding:24px;color:#fff}.storage-card[_ngcontent-%COMP%]{background:#ffffff1a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1);color:#fff}.text-muted[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{color:#fff!important}mat-card-header[_ngcontent-%COMP%]{margin-bottom:16px}mat-icon[_ngcontent-%COMP%]{color:#fff}mat-label[_ngcontent-%COMP%]{color:#fff}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{font-size:2rem}"]})};export{he as GroupsComponent};

import{a as L,b as N}from"./chunk-MTGUTNBY.js";import{a as V,b as A,c as T,d as D,e as O,f as G}from"./chunk-2FMEKLYD.js";import{O as S,P as b}from"./chunk-ADHHZP6M.js";import"./chunk-I2VACIZO.js";import{d as j,n as I}from"./chunk-PXIP7OAW.js";import"./chunk-OMQHCXRE.js";import{o as B}from"./chunk-FHMWGGDF.js";import{$b as h,Cb as f,Db as P,Eb as y,Fb as k,Gb as t,Hb as e,Ib as w,Kb as _,Nb as c,Pb as p,Zb as v,_b as n,ab as s,bb as E,fc as x,ka as u,sb as g,ta as m,ua as d,xb as M}from"./chunk-LBNGVE6L.js";var F=class l{static \u0275fac=function(o){return new(o||l)};static \u0275cmp=u({type:l,selectors:[["app-file-list"]],standalone:!0,features:[x],decls:59,vars:0,consts:[[1,"container-fluid"],[1,"row-g-4"],[1,"col-12","center"],[1,"row","g-4"],[1,"col-12"],[1,"table","table-striped","table-dark",2,"width","100%"],["scope","col"],["scope","row"]],template:function(o,r){o&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),n(4,"Files"),e()()(),t(5,"div",3)(6,"div",4)(7,"table",5)(8,"thead")(9,"tr")(10,"th",6),n(11,"#"),e(),t(12,"th",6),n(13,"File Name"),e(),t(14,"th",6),n(15,"Storage (in mb)"),e(),t(16,"th",6),n(17,"Remove"),e()()(),t(18,"tbody")(19,"tr")(20,"th",7),n(21,"1"),e(),t(22,"td"),n(23,"file1.jpg"),e(),t(24,"td"),n(25,"4mb"),e(),t(26,"td")(27,"mat-icon"),n(28,"delete_sweep"),e()()(),t(29,"tr")(30,"th",7),n(31,"2"),e(),t(32,"td"),n(33,"file2.jpeg"),e(),t(34,"td"),n(35,"10mb"),e(),t(36,"td")(37,"mat-icon"),n(38,"delete_sweep"),e()()(),t(39,"tr")(40,"th",7),n(41,"3"),e(),t(42,"td"),n(43,"file4.png"),e(),t(44,"td"),n(45,"50mb"),e(),t(46,"td")(47,"mat-icon"),n(48,"delete_sweep"),e()()(),t(49,"tr")(50,"th",7),n(51,"4"),e(),t(52,"td"),n(53,"file4.png"),e(),t(54,"td"),n(55,"550mb"),e(),t(56,"td")(57,"mat-icon"),n(58,"delete_sweep"),e()()()()()()()())},dependencies:[b,S],styles:["h2[_ngcontent-%COMP%]{font-size:1.7rem}"]})};function H(l,i){if(l&1){let o=_();t(0,"button",6),c("click",function(){m(o);let a=p();return d(a.showProjects())}),n(1," - Hide Projects"),e()}}function K(l,i){if(l&1){let o=_();t(0,"button",6),c("click",function(){m(o);let a=p();return d(a.showProjects())}),n(1," + Show Projects"),e()}}function $(l,i){if(l&1&&(t(0,"tr")(1,"th",22),n(2),e(),t(3,"td"),n(4),e(),t(5,"td"),n(6),e(),t(7,"td")(8,"mat-icon"),n(9,"delete_sweep"),e()()()),l&2){let o=i.$index,r=p(2);s(2),h(o+1),s(2),h(r.filesAll[o].name),s(2),h(r.formatFileSize(r.filesAll[o].size))}}function q(l,i){l&1&&(t(0,"button",21),n(1,"Upload to Knowledge Base"),e())}function J(l,i){if(l&1){let o=_();t(0,"div",7)(1,"div",8)(2,"mat-card",9)(3,"mat-card-header")(4,"mat-icon",10),n(5,"folder"),e(),t(6,"mat-card-title"),n(7," Project Name "),e(),t(8,"input",11,0),c("change",function(a){m(o);let C=p();return d(C.onFileSelect(a))}),e(),t(10,"input",12,1),c("change",function(a){m(o);let C=p();return d(C.onFileSelect(a))}),e()(),t(12,"mat-card-content")(13,"div",13)(14,"button",14),c("click",function(){m(o);let a=v(9);return d(a.click())}),n(15," +Add Files"),e(),t(16,"button",14),c("click",function(){m(o);let a=v(11);return d(a.click())}),n(17," +Add Folder"),e()(),w(18,"mat-progress-bar",15),t(19,"p",16),n(20," 80% used of 215GB "),e()()()()(),t(21,"div",17)(22,"div",18)(23,"table",19)(24,"thead")(25,"tr")(26,"th",20),n(27,"#"),e(),t(28,"th",20),n(29,"File Name"),e(),t(30,"th",20),n(31,"Storage (in mb)"),e(),t(32,"th",20),n(33,"Remove"),e()()(),t(34,"tbody"),y(35,$,10,3,"tr",null,P),e()()()(),t(37,"div",17),g(38,q,2,0,"button",21),e()}if(l&2){let o=p();s(18),M("value",80),s(17),k(o.previewFiles),s(3),f(o.previewFiles.length>0?38:-1)}}var z=class l{constructor(i){this.fb=i;this.fileForm=this.fb.group({files:[null,j.required]})}fileForm;filesAll=[];previewFiles=[];storageItems=[{id:1,name:"Project 1",icon:"folder",usagePercent:30,totalSpace:"100GB"},{id:2,name:"Project 2",icon:"folder",usagePercent:60,totalSpace:"100GB"},{id:3,name:"Project 3",icon:"folder",usagePercent:90,totalSpace:"100GB"}];showProjectsBool=!1;isDirUploadSupported(){let i=document.createElement("input");return"webkitdirectory"in i||"directory"in i}showProjects(){this.showProjectsBool=!this.showProjectsBool}processFile(i){if(i){this.filesAll.push(i);let o=new FileReader;o.onload=r=>{this.previewFiles.push(r.target.result)},o.readAsDataURL(i)}}deleteImage(i){this.previewFiles.splice(i,1),this.filesAll.splice(i,1),this.previewFiles.length===0&&this.fileForm.get("files")?.setValue(null)}isImageFile(i){return i.type.startsWith("image/")}getFileIcon(i){return i.startsWith("application/pdf")?"picture_as_pdf":i.startsWith("application/msword")||i.includes("document")?"description":i.startsWith("text/")?"article":i.startsWith("video/")?"movie":i.startsWith("audio/")?"audiotrack":"insert_drive_file"}getFileExtension(i){return i.split(".").pop()?.toUpperCase()||""}formatFileSize(i){if(i===0)return"0 Bytes";let o=1024,r=["Bytes","KB","MB","GB"],a=Math.floor(Math.log(i)/Math.log(o));return parseFloat((i/Math.pow(o,a)).toFixed(2))+" "+r[a]}onFileSelect(i){let o=i.target.files;Array.from(o).forEach(r=>this.processFile(r)),this.fileForm.get("files")?.setValue(this.filesAll),i.target.value=""}onDirSelect(i){let o=i.target.files;Array.from(o).forEach(r=>this.processFile(r)),this.fileForm.get("files")?.setValue(this.filesAll),i.target.value=""}uploadFiles(){console.log(this.previewFiles)}static \u0275fac=function(o){return new(o||l)(E(I))};static \u0275cmp=u({type:l,selectors:[["app-file-storage"]],standalone:!0,features:[x],decls:9,vars:3,consts:[["fileInput",""],["dirInput",""],[1,"container-fluid"],[1,"col-12",2,"display","flex","justify-content","space-between"],[1,"mb-4"],[1,"btn","btn-primary","gradient-btn",2,"cursor","pointer","margin","2.5px","height","fit-content"],[1,"btn","btn-primary","gradient-btn",2,"cursor","pointer","margin","2.5px","height","fit-content",3,"click"],[1,"row","g-4"],[1,"col-12","col-md-6","col-lg-6"],[1,"storage-card"],["mat-card-avatar",""],["type","file","hidden","","multiple","",3,"change"],["type","file","hidden","","webkitdirectory","","directory","","multiple","",3,"change"],[1,"btn-group-justified",2,"display","flex","justify-content","space-between"],[1,"btn","btn-primary","gradient-btn",2,"cursor","pointer","margin","2.5px","width","45%",3,"click"],[1,"my-3",3,"value"],[1,"text-muted"],[1,"row","mt-4"],[1,"col-12","col-sm-12","col-md-12","col-lg-12","mb-4"],[1,"table","table-striped","table-dark",2,"width","100%"],["scope","col"],[1,"btn","btn-primary","gradient-btn"],["scope","row"]],template:function(o,r){o&1&&(t(0,"div",2)(1,"div",3)(2,"h1",4),n(3,"File Storage"),e(),g(4,H,2,0,"button",5)(5,K,2,0,"button",5),e(),g(6,J,39,2),e(),w(7,"br")(8,"app-file-list")),o&2&&(s(4),f(r.showProjectsBool?4:-1),s(),f(r.showProjectsBool?-1:5),s(),f(r.showProjectsBool?6:-1))},dependencies:[B,G,V,O,T,D,A,b,S,N,L,F],styles:["[_nghost-%COMP%]{display:block;padding:24px;color:#fff}.storage-card[_ngcontent-%COMP%]{background:#ffffff1a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1);color:#fff}.text-muted[_ngcontent-%COMP%]{color:#fff!important}mat-card-header[_ngcontent-%COMP%]{margin-bottom:16px}mat-icon[_ngcontent-%COMP%]{color:#4a9eff}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{font-size:2rem}"]})};export{z as FileStorageComponent};

import{a as R,b as H,c as $,d as ee,f as te,g as ne,h as oe}from"./chunk-UKZT5LYH.js";import{a as q,b as Y,c as G,d as L,g as W,h as A,i as J,j as K,k as Q}from"./chunk-4BQ3I3IV.js";import"./chunk-Q64FFBLU.js";import{f as ie}from"./chunk-2FMEKLYD.js";import{O as X,P as Z}from"./chunk-ADHHZP6M.js";import{d as E}from"./chunk-ID222W6O.js";import"./chunk-I2VACIZO.js";import{b as I,d as m,f as B,g as z,j as T,k as U,m as V,n as j,o as N,p as D}from"./chunk-PXIP7OAW.js";import"./chunk-OMQHCXRE.js";import{o as F,q as O}from"./chunk-FHMWGGDF.js";import{$b as M,Cb as c,Gb as t,Hb as n,Ib as _,Kb as v,Ma as C,Nb as d,Pb as x,_b as o,ab as a,ac as S,bb as p,fc as k,ka as P,sb as f,ta as w,ua as y,xb as u}from"./chunk-LBNGVE6L.js";function ae(r,i){r&1&&(t(0,"mat-error"),o(1,"Password is required"),n())}function se(r,i){r&1&&(t(0,"mat-error"),o(1,"Password must be at least 6 characters"),n())}function le(r,i){r&1&&(t(0,"mat-error"),o(1,"Confirm Password is required"),n())}function ce(r,i){r&1&&(t(0,"mat-error"),o(1,"Password must be at least 6 characters"),n())}function de(r,i){r&1&&o(0," Change Password ")}function me(r,i){r&1&&(t(0,"div",17),_(1,"mat-spinner",23),t(2,"span"),o(3,"Connecting..."),n()())}function pe(r,i){if(r&1){let s=v();t(0,"div",22)(1,"button",24),d("click",function(){w(s);let l=x();return y(l.closeSpeechBubble())}),t(2,"mat-icon"),o(3,"close"),n()(),t(4,"div",25),o(5),t(6,"button",26),d("click",function(){w(s);let l=x();return y(l.playMessageManually())}),t(7,"mat-icon"),o(8,"volume_up"),n()()()()}if(r&2){let s=x();a(5),S(" ",s.welcomeMessage," ")}}var re=class r{constructor(i,s,e,l){this.fb=i;this.router=s;this.snackBar=e;this.platformId=l;this.isBrowser=O(this.platformId),this.loginForm=this.fb.group({email:["prefilled@user.com",[m.required,m.email]],password:["",[m.required,m.minLength(6)]],cPassword:["",[m.required,m.minLength(6)]]}),this.isBrowser&&document.addEventListener("click",()=>{console.log("click event occured",this.initialized),this.initialized||(this.initialized=!0,this.initializeSpeech())},{once:!0})}loginForm;hidePassword=!0;loading=!1;welcomeMessage="Hi, I am Vishnu bot and you can talk directly to me without having to chat";speechSynthesis=null;isBrowser;showSpeechBubble=!0;currentUtterance=null;initialized=!1;initializeSpeech(){if(console.log("init speech called"),"speechSynthesis"in window){console.log("in the if block");try{console.log("trying init speech"),this.speechSynthesis=window.speechSynthesis,this.currentUtterance=new SpeechSynthesisUtterance(this.welcomeMessage),this.currentUtterance.rate=.9,this.currentUtterance.pitch=1,this.currentUtterance.volume=1,this.speechSynthesis.getVoices().length>0?(console.log("getVoice block"),this.setupVoice(),this.playWelcomeMessage()):this.speechSynthesis.onvoiceschanged=()=>{console.log("voice changed block"),this.setupVoice(),this.playWelcomeMessage()},this.currentUtterance.onstart=()=>{console.log("Speech started")},this.currentUtterance.onend=()=>{console.log("Speech ended")},this.currentUtterance.onerror=i=>{console.error("Speech error:",i)}}catch(i){console.error("Speech synthesis initialization error:",i)}}else console.log("speech synthesis is not in window")}setupVoice(){if(!this.currentUtterance||!this.speechSynthesis)return;let i=this.speechSynthesis.getVoices(),s=i.find(e=>e.lang.startsWith("en")&&e.name.toLowerCase().includes("female"))||i.find(e=>e.lang.startsWith("en"))||i[0];s&&(this.currentUtterance.voice=s)}ngOnInit(){}playWelcomeMessage(){if(!(!this.isBrowser||!this.speechSynthesis||!this.currentUtterance))try{this.speechSynthesis.cancel(),this.speechSynthesis.paused&&this.speechSynthesis.resume(),this.speechSynthesis.speak(this.currentUtterance)}catch(i){console.error("Error playing welcome message:",i)}}playMessageManually(){this.currentUtterance&&(this.speechSynthesis?.cancel(),this.speechSynthesis?.speak(this.currentUtterance))}closeSpeechBubble(){this.showSpeechBubble=!1,this.speechSynthesis?.speaking&&this.speechSynthesis.cancel()}onSubmit(){this.loginForm.controls.password,this.loginForm.controls.cPassword,this.loginForm.valid?(this.loading=!0,setTimeout(()=>{this.loading=!1},2e3)):this.loginForm.markAllAsTouched()}ngOnDestroy(){this.isBrowser&&this.speechSynthesis?.speaking&&this.speechSynthesis.cancel()}static \u0275fac=function(s){return new(s||r)(p(j),p(E),p(ne),p(C))};static \u0275cmp=P({type:r,selectors:[["app-forgot-password"]],standalone:!0,features:[k],decls:45,vars:12,consts:[[1,"min-vh-100","login-container"],[1,"container"],[1,"row","justify-content-center","align-items-center","min-vh-100"],[1,"col-12","col-sm-10","col-md-8","col-lg-6","col-xl-5"],[1,"glass-card","p-4","p-md-5"],[1,"text-center","mb-4"],[1,"avatar-container","mx-auto","mb-4"],[1,"avatar-icon"],[1,"display-6","fw-bold","text-white","mb-2"],[1,"text-light","mb-4"],[1,"d-flex","flex-column","gap-4",3,"ngSubmit","formGroup"],["appearance","outline"],["matInput","","formControlName","password","placeholder","Enter your new password",3,"type"],["matPrefix","",1,"me-2"],["mat-icon-button","","matSuffix","","type","button",3,"click"],["matInput","","formControlName","cPassword","placeholder","Enter your password",3,"type"],["mat-flat-button","",1,"submit-button","py-3",3,"disabled"],[1,"d-flex","align-items-center","justify-content-center","gap-2"],[1,"bot-placeholder"],[1,"bot-content"],[1,"bot-image","d-flex","align-items-center","justify-content-center"],[1,"bot-icon",3,"click"],[1,"speech-bubble"],["diameter","20"],[1,"close-button",3,"click"],[1,"speech-content"],[1,"play-button",3,"click"]],template:function(s,e){if(s&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"mat-icon",7),o(8,"smart_toy"),n()(),t(9,"h2",8),o(10,"Welcome Back"),n(),t(11,"p",9),o(12,"Create Your New Password"),n()(),t(13,"form",10),d("ngSubmit",function(){return e.onSubmit()}),t(14,"mat-form-field",11)(15,"mat-label"),o(16,"New Password"),n(),_(17,"input",12),t(18,"mat-icon",13),o(19,"lock"),n(),t(20,"button",14),d("click",function(){return e.hidePassword=!e.hidePassword}),t(21,"mat-icon"),o(22),n()(),f(23,ae,2,0,"mat-error")(24,se,2,0,"mat-error"),n(),t(25,"mat-form-field",11)(26,"mat-label"),o(27,"Confirm Password"),n(),_(28,"input",15),t(29,"mat-icon",13),o(30,"lock"),n(),t(31,"button",14),d("click",function(){return e.hidePassword=!e.hidePassword}),t(32,"mat-icon"),o(33),n()(),f(34,le,2,0,"mat-error")(35,ce,2,0,"mat-error"),n(),t(36,"button",16),f(37,de,1,0)(38,me,4,0,"div",17),n()()()()()(),t(39,"div",18)(40,"div",19)(41,"div",20)(42,"mat-icon",21),d("click",function(){return e.playMessageManually()}),o(43,"smart_toy"),n()(),f(44,pe,9,1,"div",22),n()()()),s&2){let l,h,g,b;a(13),u("formGroup",e.loginForm),a(4),u("type",e.hidePassword?"password":"text"),a(5),M(e.hidePassword?"visibility_off":"visibility"),a(),c((l=e.loginForm.get("password"))!=null&&l.hasError("required")&&((l=e.loginForm.get("password"))!=null&&l.touched)?23:-1),a(),c((h=e.loginForm.get("password"))!=null&&h.hasError("minlength")&&((h=e.loginForm.get("password"))!=null&&h.touched)?24:-1),a(4),u("type",e.hidePassword?"password":"text"),a(5),M(e.hidePassword?"visibility_off":"visibility"),a(),c((g=e.loginForm.get("cPassword"))!=null&&g.hasError("required")&&((g=e.loginForm.get("cPassword"))!=null&&g.touched)?34:-1),a(),c((b=e.loginForm.get("cPassword"))!=null&&b.hasError("minlength")&&((b=e.loginForm.get("cPassword"))!=null&&b.touched)?35:-1),a(),u("disabled",e.loginForm.invalid||e.loading),a(),c(e.loading?38:37),a(7),c(e.showSpeechBubble?44:-1)}},dependencies:[N,T,I,B,z,D,U,V,F,A,W,q,Y,G,L,H,R,Q,J,K,Z,X,te,ee,$,ie,oe],styles:['mat-label[_ngcontent-%COMP%]{color:#fff}mat-icon[_ngcontent-%COMP%]{fill:#fff;filter:brightness(0) invert(1)}.login-container[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1e1e2f,#2a2a45);position:relative;overflow:hidden}.login-container[_ngcontent-%COMP%]:before{content:"";position:absolute;width:200%;height:200%;background:linear-gradient(45deg,#4285f41a,#db44371a,#f4b4001a,#0f9d581a,#4285f41a);animation:_ngcontent-%COMP%_rotate 20s linear infinite}.glass-card[_ngcontent-%COMP%]{background:#ffffff1a;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);border-radius:16px;border:1px solid rgba(255,255,255,.2);box-shadow:0 8px 32px #0003;position:relative}.avatar-container[_ngcontent-%COMP%]{width:80px;height:80px;background:linear-gradient(135deg,#4285f4,#34a853);border-radius:50%;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 15px #4285f44d}.avatar-icon[_ngcontent-%COMP%]{font-size:40px;width:40px;height:40px;color:#fff}.bot-placeholder[_ngcontent-%COMP%]{position:fixed;bottom:2rem;right:2rem;z-index:1000;display:flex;align-items:flex-end}.bot-content[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;align-items:flex-end}.bot-image[_ngcontent-%COMP%]{width:120px;height:120px;background:linear-gradient(135deg,#4285f4,#34a853);border-radius:50%;border:3px solid rgba(255,255,255,.2);box-shadow:0 4px 20px #0000004d;cursor:pointer;transition:transform .3s ease;position:relative;z-index:2}.bot-image[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.bot-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;color:#fff}.speech-bubble[_ngcontent-%COMP%]{position:absolute;bottom:140px;right:0;background:#fff;padding:1rem;border-radius:15px;min-width:200px;max-width:300px;width:max-content;color:#333;box-shadow:0 4px 15px #0000001a;font-size:.9rem;opacity:0;animation:_ngcontent-%COMP%_fadeIn 1s ease forwards 1s;pointer-events:all;z-index:1}.speech-bubble[_ngcontent-%COMP%]:after{content:"";position:absolute;right:30px;bottom:-10px;border-width:10px 10px 0;border-style:solid;border-color:white transparent transparent}.speech-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.play-button[_ngcontent-%COMP%]{background:none;border:none;color:#4285f4;cursor:pointer;padding:4px;display:flex;align-items:center;justify-content:center;transition:all .2s ease;border-radius:50%}.play-button[_ngcontent-%COMP%]:hover{background:#4285f41a;transform:scale(1.1)}.play-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.close-button[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-8px;width:24px;height:24px;border-radius:50%;background:#dc3545;border:none;display:flex;align-items:center;justify-content:center;cursor:pointer;padding:0;transition:all .2s ease;box-shadow:0 2px 5px #0003}.close-button[_ngcontent-%COMP%]:hover{background:#c82333;transform:scale(1.1)}.close-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;color:#fff}  .mat-mdc-form-field{width:100%}  .mdc-text-field--outlined{background:#ffffff0d;border-radius:8px}  .mat-mdc-form-field-appearance-outline .mdc-notched-outline__leading,   .mat-mdc-form-field-appearance-outline .mdc-notched-outline__notch,   .mat-mdc-form-field-appearance-outline .mdc-notched-outline__trailing{border-color:#ffffff4d!important}  .mdc-text-field:not(.mdc-text-field--disabled) .mdc-floating-label,   .mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__input{color:#ffffffde!important}.submit-button[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4285f4,#34a853)!important;color:#fff!important;border-radius:8px!important;font-weight:500!important;transition:opacity .3s ease!important}.submit-button[_ngcontent-%COMP%]:hover:not(:disabled){opacity:.9}.submit-button[_ngcontent-%COMP%]:disabled{background:#ffffff1a!important;color:#fff6!important}@keyframes _ngcontent-%COMP%_floatAnimation{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_rotate{0%{transform:translateY(-50%) rotate(0)}to{transform:translateY(-50%) rotate(360deg)}}.hover-effect[_ngcontent-%COMP%]{transition:opacity .3s ease}.hover-effect[_ngcontent-%COMP%]:hover{opacity:.8}@media (max-width: 768px){.bot-placeholder[_ngcontent-%COMP%]{bottom:1rem;right:1rem}.bot-image[_ngcontent-%COMP%]{width:80px;height:80px}.bot-icon[_ngcontent-%COMP%]{font-size:32px;width:32px;height:32px}.speech-bubble[_ngcontent-%COMP%]{max-width:200px;font-size:.8rem;bottom:90px;padding:.75rem}}']})};export{re as ForgotPasswordComponent};

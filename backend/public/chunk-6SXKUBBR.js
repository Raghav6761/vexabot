import{a as T}from"./chunk-HD6QFJ6B.js";import{a as X,b as Z,c as oe,d as re,e as ae,f as le,g as se,h as ce}from"./chunk-UKZT5LYH.js";import{a as W,b as Y,c as H,d as J,g as K,h as Q,i as $,j as ee,k as te}from"./chunk-4BQ3I3IV.js";import"./chunk-Q64FFBLU.js";import{f as me}from"./chunk-2FMEKLYD.js";import{O as ne,P as ie}from"./chunk-ADHHZP6M.js";import{d as I,e as L,f as B,i as z}from"./chunk-ID222W6O.js";import"./chunk-I2VACIZO.js";import"./chunk-EAL2B4IN.js";import{b as U,d as h,f as V,g as j,j as A,k as D,m as N,n as R,o as q,p as G}from"./chunk-PXIP7OAW.js";import"./chunk-OMQHCXRE.js";import{o as F,q as E}from"./chunk-FHMWGGDF.js";import{$b as w,Cb as c,Gb as t,Hb as i,Ib as _,Kb as S,Ma as C,Nb as m,Pb as x,_b as o,ab as s,ac as k,bb as d,fc as P,gc as O,ka as M,sb as u,ta as v,ua as y,xb as f}from"./chunk-LBNGVE6L.js";var pe=()=>["/forgot-password"];function ue(r,n){r&1&&(t(0,"mat-error"),o(1,"Email is required"),i())}function fe(r,n){r&1&&(t(0,"mat-error"),o(1,"Please enter a valid email"),i())}function he(r,n){r&1&&(t(0,"mat-error"),o(1,"Password is required"),i())}function ge(r,n){r&1&&(t(0,"mat-error"),o(1,"Password must be at least 6 characters"),i())}function be(r,n){r&1&&o(0," Sign In ")}function _e(r,n){r&1&&(t(0,"div",19),_(1,"mat-spinner",25),t(2,"span"),o(3,"Connecting..."),i()())}function xe(r,n){if(r&1){let a=S();t(0,"div",24)(1,"button",26),m("click",function(){v(a);let l=x();return y(l.closeSpeechBubble())}),t(2,"mat-icon"),o(3,"close"),i()(),t(4,"div",27),o(5),t(6,"button",28),m("click",function(){v(a);let l=x();return y(l.playMessageManually())}),t(7,"mat-icon"),o(8,"volume_up"),i()()()()}if(r&2){let a=x();s(5),k(" ",a.welcomeMessage," ")}}var de=class r{constructor(n,a,e,l,p){this.fb=n;this.router=a;this.snackBar=e;this.authService=l;this.platformId=p;this.isBrowser=E(this.platformId),this.loginForm=this.fb.group({email:["",[h.required,h.email]],password:["",[h.required,h.minLength(6)]]}),this.isBrowser&&document.addEventListener("click",()=>{console.log("click event occured",this.initialized),this.initialized||(this.initialized=!0,this.initializeSpeech())},{once:!0})}loginForm;hidePassword=!0;loading=!1;welcomeMessage="Hi, I am Vishnu bot and you can talk directly to me without having to chat";speechSynthesis=null;isBrowser;showSpeechBubble=!0;currentUtterance=null;initialized=!1;initializeSpeech(){if(console.log("init speech called"),"speechSynthesis"in window){console.log("in the if block");try{console.log("trying init speech"),this.speechSynthesis=window.speechSynthesis,this.currentUtterance=new SpeechSynthesisUtterance(this.welcomeMessage),this.currentUtterance.rate=.9,this.currentUtterance.pitch=1,this.currentUtterance.volume=1,this.speechSynthesis.getVoices().length>0?(console.log("getVoice block"),this.setupVoice(),this.playWelcomeMessage()):this.speechSynthesis.onvoiceschanged=()=>{console.log("voice changed block"),this.setupVoice(),this.playWelcomeMessage()},this.currentUtterance.onstart=()=>{console.log("Speech started")},this.currentUtterance.onend=()=>{console.log("Speech ended")},this.currentUtterance.onerror=n=>{console.error("Speech error:",n)}}catch(n){console.error("Speech synthesis initialization error:",n)}}else console.log("speech synthesis is not in window")}setupVoice(){if(!this.currentUtterance||!this.speechSynthesis)return;let n=this.speechSynthesis.getVoices(),a=n.find(e=>e.lang.startsWith("en")&&e.name.toLowerCase().includes("female"))||n.find(e=>e.lang.startsWith("en"))||n[0];a&&(this.currentUtterance.voice=a)}ngOnInit(){}playWelcomeMessage(){if(!(!this.isBrowser||!this.speechSynthesis||!this.currentUtterance))try{this.speechSynthesis.cancel(),this.speechSynthesis.paused&&this.speechSynthesis.resume(),this.speechSynthesis.speak(this.currentUtterance)}catch(n){console.error("Error playing welcome message:",n)}}playMessageManually(){this.currentUtterance&&(this.speechSynthesis?.cancel(),this.speechSynthesis?.speak(this.currentUtterance))}closeSpeechBubble(){this.showSpeechBubble=!1,this.speechSynthesis?.speaking&&this.speechSynthesis.cancel()}onSubmit(){this.loginForm.valid?(this.loading=!0,this.authService.login(this.loginForm.value).subscribe({next:n=>{console.log("response : ",n),this.router.navigate(["/otp-verify"],{queryParams:{email:this.loginForm.value.email}})},error:n=>{console.error("Login failed: ",n),window.alert("Please check your credentials"),this.loading=!1}})):this.loginForm.markAllAsTouched()}signInWithGoogle(){console.log("sign in with google called")}ngOnDestroy(){this.isBrowser&&this.speechSynthesis?.speaking&&this.speechSynthesis.cancel()}static \u0275fac=function(a){return new(a||r)(d(R),d(I),d(se),d(T),d(C))};static \u0275cmp=M({type:r,selectors:[["app-login"]],standalone:!0,features:[P],decls:43,vars:12,consts:[[1,"min-vh-100","login-container"],[1,"container"],[1,"row","justify-content-center","align-items-center","min-vh-100"],[1,"col-12","col-sm-10","col-md-8","col-lg-6","col-xl-5"],[1,"glass-card","p-4","p-md-5"],[1,"text-center","mb-4"],[1,"avatar-container","mx-auto","mb-4"],["src","logos/logo-2.png","alt","Bot",1,"bot-icon",3,"click"],[1,"text-light","mb-4"],[1,"d-flex","flex-column","gap-4",3,"ngSubmit","formGroup"],["appearance","outline"],["matInput","","formControlName","email","type","email","placeholder","Enter your email"],["matPrefix","",1,"me-2"],["matInput","","formControlName","password","placeholder","Enter your password",3,"type"],["mat-icon-button","","matSuffix","","type","button",3,"click"],[1,"d-flex","justify-content-between","align-items-center","mb-2"],["color","primary",1,"text-light"],["routerLinkActive","router-link-active",1,"text-light","text-decoration-none","hover-effect",3,"routerLink"],["mat-flat-button","",1,"submit-button","py-3",3,"disabled"],[1,"d-flex","align-items-center","justify-content-center","gap-2"],[1,"bot-placeholder"],[1,"bot-content"],[1,"bot-image","d-flex","align-items-center","justify-content-center"],["src","assets/characters/char-1-removebg.png","alt","Bot",1,"bot-icon",3,"click"],[1,"speech-bubble"],["diameter","20"],[1,"close-button",3,"click"],[1,"speech-content"],[1,"play-button",3,"click"]],template:function(a,e){if(a&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"img",7),m("click",function(){return e.playMessageManually()}),i()(),t(8,"p",8),o(9,"Login to your AI assistant"),i()(),t(10,"form",9),m("ngSubmit",function(){return e.onSubmit()}),t(11,"mat-form-field",10)(12,"mat-label"),o(13,"Email"),i(),_(14,"input",11),t(15,"mat-icon",12),o(16,"email"),i(),u(17,ue,2,0,"mat-error")(18,fe,2,0,"mat-error"),i(),t(19,"mat-form-field",10)(20,"mat-label"),o(21,"Password"),i(),_(22,"input",13),t(23,"mat-icon",12),o(24,"lock"),i(),t(25,"button",14),m("click",function(){return e.hidePassword=!e.hidePassword}),t(26,"mat-icon"),o(27),i()(),u(28,he,2,0,"mat-error")(29,ge,2,0,"mat-error"),i(),t(30,"div",15)(31,"mat-checkbox",16),o(32," Remember me "),i(),t(33,"a",17),o(34," Forgot Password? "),i()(),t(35,"button",18),u(36,be,1,0)(37,_e,4,0,"div",19),i()()()()()(),t(38,"div",20)(39,"div",21)(40,"div",22)(41,"img",23),m("click",function(){return e.playMessageManually()}),i()(),u(42,xe,9,1,"div",24),i()()()),a&2){let l,p,g,b;s(10),f("formGroup",e.loginForm),s(7),c((l=e.loginForm.get("email"))!=null&&l.hasError("required")&&((l=e.loginForm.get("email"))!=null&&l.touched)?17:-1),s(),c((p=e.loginForm.get("email"))!=null&&p.hasError("email")&&((p=e.loginForm.get("email"))!=null&&p.touched)?18:-1),s(4),f("type",e.hidePassword?"password":"text"),s(5),w(e.hidePassword?"visibility_off":"visibility"),s(),c((g=e.loginForm.get("password"))!=null&&g.hasError("required")&&((g=e.loginForm.get("password"))!=null&&g.touched)?28:-1),s(),c((b=e.loginForm.get("password"))!=null&&b.hasError("minlength")&&((b=e.loginForm.get("password"))!=null&&b.touched)?29:-1),s(4),f("routerLink",O(11,pe)),s(2),f("disabled",e.loginForm.invalid||e.loading),s(),c(e.loading?37:36),s(6),c(e.showSpeechBubble?42:-1)}},dependencies:[q,A,U,V,j,G,D,N,F,Q,K,W,Y,H,J,Z,X,te,$,ee,ie,ne,le,ae,re,oe,me,ce,z,L,B],styles:['mat-label[_ngcontent-%COMP%]{color:#fff}mat-icon[_ngcontent-%COMP%]{fill:#fff;filter:brightness(0) invert(1)}.google-button[_ngcontent-%COMP%]{background:#ffffff1a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:16px;border:1px solid rgba(255,255,255,.2);box-shadow:0 8px 32px #0000001a;background-color:#fff}.login-container[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1e1e2f,#2a2a45);position:relative;overflow:hidden}.login-container[_ngcontent-%COMP%]:before{content:"";position:absolute;width:200%;height:200%;background:linear-gradient(45deg,#4285f41a,#db44371a,#f4b4001a,#0f9d581a,#4285f41a);animation:_ngcontent-%COMP%_rotate 20s linear infinite}.glass-card[_ngcontent-%COMP%]{background:#ffffff1a;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);border-radius:16px;border:1px solid rgba(255,255,255,.2);box-shadow:0 8px 32px #0003;position:relative}.avatar-container[_ngcontent-%COMP%]{width:250px;height:auto;border-radius:50%;display:flex;align-items:center;justify-content:center}.avatar-icon[_ngcontent-%COMP%]{font-size:40px;width:40px;height:40px;color:#fff}.bot-placeholder[_ngcontent-%COMP%]{position:fixed;bottom:2rem;right:2rem;z-index:1000;display:flex;align-items:flex-end}.bot-content[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;align-items:flex-end}.bot-image[_ngcontent-%COMP%]{width:500px;height:auto;cursor:pointer;transition:transform .3s ease;position:relative;z-index:2}.bot-image[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.bot-icon[_ngcontent-%COMP%]{width:100%;height:auto;cursor:pointer}.bot-icon[_ngcontent-%COMP%]:hover{transform:scale(1.1);transition:transform .2s ease}.speech-bubble[_ngcontent-%COMP%]{position:absolute;bottom:180px;right:0;background:#fff;padding:1rem;border-radius:15px;min-width:200px;max-width:300px;width:max-content;color:#333;box-shadow:0 4px 15px #0000001a;font-size:.9rem;opacity:0;animation:_ngcontent-%COMP%_fadeIn 1s ease forwards 1s;pointer-events:all;z-index:1}.speech-bubble[_ngcontent-%COMP%]:after{content:"";position:absolute;right:50px;bottom:-10px;border-width:10px 10px 0;border-style:solid;border-color:white transparent transparent}.speech-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.play-button[_ngcontent-%COMP%]{background:none;border:none;color:#4285f4;cursor:pointer;padding:4px;display:flex;align-items:center;justify-content:center;transition:all .2s ease;border-radius:50%}.play-button[_ngcontent-%COMP%]:hover{background:#4285f41a;transform:scale(1.1)}.play-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.close-button[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-8px;width:24px;height:24px;border-radius:50%;background:#dc3545;border:none;display:flex;align-items:center;justify-content:center;cursor:pointer;padding:0;transition:all .2s ease;box-shadow:0 2px 5px #0003}.close-button[_ngcontent-%COMP%]:hover{background:#c82333;transform:scale(1.1)}.close-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;color:#fff}  .mat-mdc-form-field{width:100%}  .mdc-text-field--outlined{background:#ffffff0d;border-radius:8px}  .mat-mdc-form-field-appearance-outline .mdc-notched-outline__leading,   .mat-mdc-form-field-appearance-outline .mdc-notched-outline__notch,   .mat-mdc-form-field-appearance-outline .mdc-notched-outline__trailing{border-color:#ffffff4d!important}  .mdc-text-field:not(.mdc-text-field--disabled) .mdc-floating-label,   .mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__input{color:#ffffffde!important}.submit-button[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4285f4,#34a853)!important;color:#fff!important;border-radius:8px!important;font-weight:500!important;transition:opacity .3s ease!important}.submit-button[_ngcontent-%COMP%]:hover:not(:disabled){opacity:.9}.submit-button[_ngcontent-%COMP%]:disabled{background:#ffffff1a!important;color:#fff6!important}@keyframes _ngcontent-%COMP%_floatAnimation{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_rotate{0%{transform:translateY(-50%) rotate(0)}to{transform:translateY(-50%) rotate(360deg)}}.hover-effect[_ngcontent-%COMP%]{transition:opacity .3s ease}.hover-effect[_ngcontent-%COMP%]:hover{opacity:.8}@media (max-width: 768px){.bot-placeholder[_ngcontent-%COMP%]{bottom:1rem;right:1rem}.bot-image[_ngcontent-%COMP%]{width:80px;height:80px}.bot-icon[_ngcontent-%COMP%]{font-size:32px;width:32px;height:32px}.speech-bubble[_ngcontent-%COMP%]{max-width:200px;font-size:.8rem;bottom:90px;padding:.75rem}}']})};export{de as LoginComponent};
